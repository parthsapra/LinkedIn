!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define("@rxweb/generics",["exports"],e):e(((t=t||self).rxweb=t.rxweb||{},t.rxweb.generics={}))}(this,function(t){"use strict";function e(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return u}function n(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(e(arguments[n]));return t}function r(t){return!!t&&"object"==typeof t}function i(t,e,n){var r=function(t,e){return Reflect.construct(t,e)}(t,e);return Object.keys(n).forEach(function(t){r[t]=n[t]}),r}var o=function(){function t(t,e){this.model=e,this._entities=new Array,this.build(t)}return t.prototype[Symbol.iterator]=function(){var t=0,e=this._entities;return{next:function(){if(t<e.length){var n=t++;return this.model&&e[n].constructor!==this.model&&(e[n]=i(this.model,[],this.object[n])),{done:!1,value:e[n]}}return{done:!0,value:null}}}},t.prototype.add=function(t){this._entities.push(this.createObject(t))},t.prototype.addRange=function(t){var e,n;try{for(var r=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}(t),i=r.next();!i.done;i=r.next()){var o=i.value;this.add(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.all=function(t){return this._entities.every(t)},t.prototype.any=function(t){return this._entities.some(t)},t.prototype.average=function(t){return this.sum(t)/this.count(t)},t.prototype.contains=function(t){return this._entities.some(function(e){return e===t})},t.prototype.concat=function(e){if(e)return this.addRange(e),new t(this._entities,this.model)},t.prototype.count=function(t){return t?this.where(t).count():this._entities.length},t.prototype.where=function(e){return new t(this._entities.filter(e),this.model)},t.prototype.distinct=function(){return this.where(function(t,n,i){return r(t)?i.findIndex(function(n){return function t(n,i){return Object.entries(n).every(function(n){var o=e(n,2),u=o[0],s=o[1];return r(s)?t(i[u],s):i[u]===s})}(n,t)})==n:i.indexOf(t)===n})},t.prototype.distinctBy=function(e){var n=this.groupBy(e);return Object.keys(n).reduce(function(t,e){return t.add(n[e][0]),t},new t)},t.prototype.elementAt=function(t){if(this._entities.length>t&&t>=0)return this._entities[t]},t.prototype.except=function(t){return this.where(function(e){return!t.contains(e)})},t.prototype.first=function(t){if(this.count())return t?this.where(t).first():this._entities[0];throw new Error("No result found.")},t.prototype.firstOrDefault=function(t){return this.count()?this.first(t):void 0},t.prototype.forEach=function(t){return this._entities.forEach(t)},t.prototype.aggregate=function(t,e){return this._entities.reduce(t,e)},t.prototype.groupBy=function(t,e){return e||(e=function(t){return t}),this.aggregate(function(n,r){return n[t(r)]?n[t(r)].push(e(r)):n[t(r)]=[e(r)],n},{})},t.prototype.insert=function(t,e){if(t<0||t>this._entities.length)throw new Error("Index is out of range.");this._entities.splice(t,0,this.createObject(e))},t.prototype.join=function(t){return this._entities?this._entities.join(t):null},t.prototype.last=function(t){if(this.count())return t?this.where(t).last():this._entities[this.count()-1];throw Error("No result found.")},t.prototype.lastOrDefault=function(t){return this.count()?this.last(t):void 0},Object.defineProperty(t.prototype,"length",{get:function(){return this._entities?this._entities.length:0},enumerable:!0,configurable:!0}),t.prototype.max=function(t){return t?Math.max.apply(Math,n(this._entities.map(t))):this.aggregate(function(t,e){return t>e?t:e})},t.prototype.maxBy=function(t){var e=this.groupBy(t),r=Object.keys(e);return e[Math.max.apply(Math,n(r))][0]},t.prototype.min=function(t){return t?Math.min.apply(Math,n(this._entities.map(t))):this.aggregate(function(t,e){return t<e?t:e})},t.prototype.minBy=function(t){var e=this.groupBy(t),r=Object.keys(e);return e[Math.min.apply(Math,n(r))][0]},t.prototype.orderBy=function(e){return new t(this._entities.sort(this.customSort(e,!1)))},t.prototype.orderByDescending=function(e){return new t(this._entities.sort(this.customSort(e,!0)))},t.prototype.pop=function(){return this._entities.pop()},t.prototype.remove=function(t){return-1!==this._entities.indexOf(t)&&(this.removeAt(this._entities.indexOf(t)),!0)},t.prototype.removeAll=function(t){return this.where(this._negate(t))},t.prototype.removeAt=function(t){this._entities.splice(t,1)},t.prototype.reverse=function(){return this._entities?new t(this._entities.reverse(),this.model):new t},t.prototype.select=function(t){return this._entities.map(t)},t.prototype.single=function(t){if(1!==this.count())throw new Error("Item does not contain one element.");return this.first(t)},t.prototype.singleOrDefault=function(t){return this.count()?this.first(t):void 0},t.prototype.shift=function(){return this._entities?this._entities.shift():void 0},t.prototype.skip=function(t){return this._entities.slice(Math.max(0,t))},t.prototype.sum=function(t){return t?this.select(t).sum():this.aggregate(function(t,e){return t+ +e},0)},t.prototype.take=function(t){return this._entities.slice(0,Math.max(0,t))},Object.defineProperty(t.prototype,"toLocaleString",{get:function(){return this._entities?this._entities.toLocaleString():null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toString",{get:function(){return this._entities?this._entities.toString():null},enumerable:!0,configurable:!0}),t.prototype._negate=function(t){return function(){return!t.apply(this,arguments)}},t.prototype.customSort=function(t,e){return function(n,r){var i=t(n),o=t(r);return i>o?e?-1:1:i<o?e?1:-1:0}},t.prototype.build=function(t){t&&t.length>0&&this.addRange(t)},t.prototype.createObject=function(t){return this.model&&t.constructor!==this.model?i(this.model,[],t):t},t}();t.List=o,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=rxweb-generics.umd.min.js.map